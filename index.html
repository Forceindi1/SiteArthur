<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arthur Vitelbo ‚Äî Editor Audiovisual</title>
  <link rel="icon" href="assets/favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    :root { color-scheme: dark; scroll-behavior: smooth }
    body { background:#0b0b0b; color:#e7e7e7; font-family:'Inter', sans-serif; overflow-x:hidden }
    
    /* Anima√ß√£o com Trava de Seguran√ßa */
    .fade-in { opacity:0; transform:translateY(20px); transition:opacity 1s ease, transform 1s ease }
    .fade-in.visible { opacity:1; transform:translateY(0) }
    
    .card { background:#121212; border:1px solid #232323; border-radius:22px; transition:all .4s ease }
    .swiper-slide video { width: 100%; border-radius: 20px; border: 1px solid #333; }
    .swiper-button-next, .swiper-button-prev { color: #2563eb; } 
    .btn { display:inline-flex; align-items:center; justify-content:center; padding:.9rem 1.4rem; border-radius:12px; font-weight:600; transition:all .3s }
    .btn-primary { background:#2563eb; color:#fff }
    .btn-primary:hover { background:#1e4fd0; box-shadow:0 0 12px #2563ebaa }
  </style>
</head>
<body>

<header class="sticky top-0 backdrop-blur-md bg-black/60 z-40">
  <div class="max-w-7xl mx-auto flex items-center justify-between py-3 px-4">
    <a href="#sobre" class="flex items-center gap-3">
      <img src="assets/header_profile.jpg" onerror="this.src='https://ui-avatars.com/api/?name=AV&background=random'" alt="Arthur Vitelbo" class="w-10 h-10 rounded-full border-2 border-blue-500 shadow">
      <div><strong>Arthur Vitelbo</strong><span class="text-zinc-400"> / Editor Audiovisual</span></div>
    </a>
    <nav class="hidden md:flex gap-6 text-sm text-zinc-300 items-center">
      <a href="#sobre">Sobre</a><a href="#portfolio">Portf√≥lio</a><a href="#planos">Planos</a><a href="#depoimentos">Depoimentos</a>
      <a href="login.html" class="text-white hover:text-blue-500">J√° sou cliente</a>
      <a href="cadastro.html" class="btn btn-primary ml-2">Solicitar or√ßamento</a>
    </nav>
  </div>
</header>

<section class="text-center py-24 fade-in" id="sobre">
  <h1 class="text-4xl md:text-5xl font-bold mb-4">Edi√ß√£o que impulsiona marcas</h1>
  <p class="text-zinc-400 mb-8">Transformo ideias em v√≠deos com ritmo, emo√ß√£o e prop√≥sito.</p>
  <div class="flex justify-center gap-4">
    <a href="#portfolio" class="btn border border-zinc-600 text-white">Ver portf√≥lio</a>
    <a href="cadastro.html" class="btn btn-primary">Come√ßar agora</a>
  </div>
</section>

<section id="portfolio" class="max-w-5xl mx-auto py-20 px-4 fade-in">
  <h2 class="text-3xl font-semibold mb-6 text-center">üé• Portf√≥lio Recente</h2>
  
  <div class="swiper myVideosSwiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
         <video controls poster="assets/thumb1.jpg"><source src="assets/video1.mp4" type="video/mp4"></video>
         <p class="text-center mt-2 text-zinc-400">Edi√ß√£o Cinematogr√°fica</p>
      </div>
      <div class="swiper-slide">
         <video controls poster="assets/thumb2.jpg"><source src="assets/video2.mp4" type="video/mp4"></video>
         <p class="text-center mt-2 text-zinc-400">Storytelling Emocional</p>
      </div>
      <div class="swiper-slide">
         <video controls poster="assets/thumb3.jpg"><source src="assets/video3.mp4" type="video/mp4"></video>
         <p class="text-center mt-2 text-zinc-400">Reels Din√¢mico</p>
      </div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</section>

<section id="planos" class="py-20 bg-zinc-900/30 text-white fade-in">
    <div class="max-w-6xl mx-auto px-6">
        <h2 class="text-4xl font-bold text-center mb-12">Nossos Planos de Edi√ß√£o</h2>
        
        <div class="grid md:grid-cols-3 gap-8">
            <div class="bg-black p-8 rounded-2xl border border-zinc-800 hover:border-blue-500 transition relative">
                <h3 class="text-xl font-bold text-blue-400 mb-2">B√°sico</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-basico">R$ --</span><span class="text-sm text-zinc-500 font-normal">/v√≠deo</span></p>
                <p class="text-sm text-zinc-400 mb-6 italic" id="desc-basico">Carregando...</p>
                <ul class="space-y-3 text-zinc-400 text-sm mb-8">
                    <li>‚úÖ Cortes Secos & Din√¢micos</li>
                    <li>‚úÖ Tratamento de Cor B√°sico</li>
                    <li>‚úÖ Remo√ß√£o de Erros</li>
                    <li>‚ùå Legendas Animadas</li>
                </ul>
                <a href="cadastro.html" class="block w-full py-3 bg-zinc-800 hover:bg-zinc-700 text-center rounded-lg font-bold">Come√ßar Agora</a>
            </div>

            <div class="bg-black p-8 rounded-2xl border-2 border-purple-600 relative transform md:-translate-y-4 shadow-xl shadow-purple-900/20">
                <span class="absolute top-0 right-0 bg-purple-600 text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg">MAIS VENDIDO</span>
                <h3 class="text-xl font-bold text-purple-400 mb-2">Intermedi√°rio</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-intermediario">R$ --</span><span class="text-sm text-zinc-500 font-normal">/v√≠deo</span></p>
                <p class="text-sm text-zinc-300 mb-6 italic" id="desc-intermediario">Carregando...</p>
                <ul class="space-y-3 text-zinc-300 text-sm mb-8">
                    <li>‚úÖ Tudo do B√°sico</li>
                    <li>‚úÖ Legendas Din√¢micas</li>
                    <li>‚úÖ Zoom In/Out & Efeitos</li>
                    <li>‚úÖ Trilha Sonora</li>
                </ul>
                <a href="cadastro.html" class="block w-full py-3 bg-purple-600 hover:bg-purple-700 text-center rounded-lg font-bold">Quero Esse</a>
            </div>

            <div class="bg-black p-8 rounded-2xl border border-zinc-800 hover:border-yellow-500 transition relative">
                <h3 class="text-xl font-bold text-yellow-400 mb-2">Avan√ßado</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-avancado">R$ --</span><span class="text-sm text-zinc-500 font-normal">/v√≠deo</span></p>
                <p class="text-sm text-zinc-400 mb-6 italic" id="desc-avancado">Carregando...</p>
                <ul class="space-y-3 text-zinc-400 text-sm mb-8">
                    <li>‚úÖ Tudo do Intermedi√°rio</li>
                    <li>‚úÖ Motion Graphics & VFX</li>
                    <li>‚úÖ Sound Design Avan√ßado</li>
                    <li>‚úÖ Banco de Imagens</li>
                </ul>
                <a href="cadastro.html" class="block w-full py-3 bg-zinc-800 hover:bg-zinc-700 text-center rounded-lg font-bold">N√≠vel Pro</a>
            </div>
        </div>
    </div>
</section>

<section id="depoimentos" class="max-w-4xl mx-auto py-20 px-4 fade-in">
  <h2 class="text-3xl font-semibold mb-6 text-center">üí¨ Coment√°rios</h2>
  
  <div class="swiper myCommentsSwiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><div class="card p-8 text-center"><p class="text-zinc-500">Carregando avalia√ß√µes...</p></div></div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</section>

<section id="contato" class="text-center py-20 fade-in border-t border-zinc-800">
  <h2 class="text-3xl font-semibold mb-6">üìû Contato</h2>
  <p class="text-zinc-400 mb-6">Entre em contato e vamos criar algo incr√≠vel juntos.</p>
  <a href="https://wa.me/5511989930723" class="btn btn-primary mb-3">WhatsApp: (11) 98993-0723</a><br>
  <p class="text-zinc-500 mt-4">Suzano - SP | arthurvitelbo934@gmail.com</p>

  <div class="mt-12 p-6 border border-zinc-800 rounded-xl inline-block">
      <h4 class="text-sm font-bold text-zinc-500 mb-2 uppercase tracking-widest">√Årea Interna</h4>
      <input type="email" id="staff-email" placeholder="Email corporativo" class="bg-zinc-900 border border-zinc-700 text-white p-2 rounded text-sm mb-2 w-full">
      <input type="password" id="staff-password" placeholder="Senha" class="bg-zinc-900 border border-zinc-700 text-white p-2 rounded text-sm mb-2 w-full">
      <button id="btn-staff-login" class="w-full bg-zinc-800 hover:bg-zinc-700 text-white p-2 rounded text-sm font-bold transition">Acessar Sistema</button>
  </div>
</section>

<footer class="border-t border-zinc-900 py-8 text-sm text-zinc-600 text-center">
  ¬© 2026 Arthur Vitelbo ‚Äî Todos os direitos reservados.
</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="script-auth.js"></script>

<script>
    // 1. TRAVA DE SEGURAN√áA (Se o site n√£o carregar em 2s, for√ßa a exibi√ß√£o)
    setTimeout(() => {
        document.querySelectorAll('.fade-in').forEach(el => el.style.opacity = '1');
        document.querySelectorAll('.fade-in').forEach(el => el.style.transform = 'translateY(0)');
    }, 2000);

    // Anima√ß√£o padr√£o
    const observer = new IntersectionObserver(e=>{
        e.forEach(i=>{if(i.isIntersecting)i.target.classList.add('visible')})
    },{threshold:.15});
    document.querySelectorAll('.fade-in').forEach(el=>observer.observe(el));

    // 2. CONFIGURA√á√ÉO SUPABASE
    const sbUrl = 'https://exwdgcfzqapparhzouni.supabase.co';
    const sbKey = 'sb_publishable_HjQcT-uXXklApasRoad4uw_fA7zIPdG';
    const supabaseIndex = supabase.createClient(sbUrl, sbKey);

    // 3. CARREGAR DADOS (Blindado contra erros)
    async function carregarDadosSite() {
        try {
            // Planos
            const { data: planos } = await supabaseIndex.from('plans').select('*');
            if(planos) {
                planos.forEach(p => {
                    const elPreco = document.getElementById(`preco-${p.tipo}`);
                    const elDesc = document.getElementById(`desc-${p.tipo}`);
                    if(elPreco) elPreco.innerText = `R$ ${p.preco}`;
                    if(elDesc) elDesc.innerText = p.descricao;
                });
            }

            // Coment√°rios
            const { data: comments } = await supabaseIndex.from('public_comments').select('*').eq('aprovado', true).order('created_at', {ascending: false}).limit(5);
            const wrapper = document.querySelector('.myCommentsSwiper .swiper-wrapper');
            
            if(comments && comments.length > 0 && wrapper) {
                wrapper.innerHTML = comments.map(c => `
                    <div class="swiper-slide">
                        <div class="card p-8 text-center">
                            <h3 class="font-bold text-xl">${c.nome}</h3>
                            <div class="text-yellow-500 text-xs mb-2">${'‚òÖ'.repeat(c.nota)}</div>
                            <p class="text-zinc-400 mt-2">‚Äú${c.comentario}‚Äù</p>
                        </div>
                    </div>
                `).join('');
                if(window.swiperCommentsInstance) window.swiperCommentsInstance.update();
            }

        } catch (error) {
            console.log("Erro ao carregar dados, mantendo padr√£o:", error);
        }
    }

    // 4. INICIALIZA CARROSSEIS
    const swiperVideos = new Swiper(".myVideosSwiper", {
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
        loop: true, spaceBetween: 30,
    });

    window.swiperCommentsInstance = new Swiper(".myCommentsSwiper", {
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
        loop: true, autoplay: { delay: 5000 },
    });

    // Login Funcion√°rio
    document.getElementById('btn-staff-login').addEventListener('click', async () => {
        const email = document.getElementById('staff-email').value;
        const pass = document.getElementById('staff-password').value;
        if(window.fazerLogin) await window.fazerLogin(email, pass);
    });

    // Iniciar
    window.onload = carregarDadosSite;
</script>

</body>
</html>
