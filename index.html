<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arthur Vitelbo ‚Äî Editor Audiovisual</title>
  <link rel="icon" href="assets/favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root { color-scheme: dark; scroll-behavior: smooth }
    body { background:#0b0b0b; color:#e7e7e7; font-family:'Inter', sans-serif; overflow-x:hidden }
    .fade-in { opacity:0; transform:translateY(20px); transition:opacity 1s ease, transform 1s ease }
    .fade-in.visible { opacity:1; transform:translateY(0) }
    .card { background:#121212; border:1px solid #232323; border-radius:22px; transition:all .4s ease }
    .btn-primary { background:#2563eb; color:#fff; padding:.8rem 1.5rem; border-radius:12px; font-weight:600; transition:0.3s; }
    .btn-primary:hover { background:#1e4fd0; box-shadow:0 0 15px #2563ebaa }
    .star-rating i { cursor: pointer; color: #444; transition: color 0.2s; }
    .star-rating i.active { color: #fbbf24; }
  </style>
</head>
<body>

<header class="sticky top-0 backdrop-blur-md bg-black/60 z-40">
  <div class="max-w-7xl mx-auto flex items-center justify-between py-3 px-4">
    <a href="#sobre" class="flex items-center gap-3">
      <img src="assets/header_profile.jpg" onerror="this.src='https://ui-avatars.com/api/?name=AV&background=random'" class="w-10 h-10 rounded-full border-2 border-blue-500">
      <div><strong>Arthur Vitelbo</strong><span class="text-zinc-400"> / Editor</span></div>
    </a>
    <nav class="hidden md:flex gap-6 text-sm text-zinc-300 items-center">
      <a href="#portfolio">Portf√≥lio</a><a href="#planos">Planos</a><a href="#depoimentos">Avalia√ß√µes</a>
      <a href="login.html" class="text-white hover:text-blue-500">Login Cliente</a>
      <a href="cadastro.html" class="btn-primary ml-2">Or√ßamento</a>
    </nav>
  </div>
</header>

<section class="text-center py-24 fade-in" id="sobre">
  <h1 class="text-5xl font-bold mb-4">Edi√ß√£o que <span class="text-blue-500">impulsiona</span></h1>
  <p class="text-zinc-400 mb-8">Transformo ideias em v√≠deos com ritmo e prop√≥sito.</p>
  <div class="flex justify-center gap-4">
    <a href="#portfolio" class="px-6 py-3 border border-zinc-600 rounded-xl hover:bg-zinc-800">Ver portf√≥lio</a>
    <a href="cadastro.html" class="btn-primary">Come√ßar agora</a>
  </div>
</section>

<section id="portfolio" class="max-w-5xl mx-auto py-20 px-4 fade-in">
  <h2 class="text-3xl font-semibold mb-6 text-center">üé• Portf√≥lio</h2>
  <div class="swiper myVideosSwiper"><div class="swiper-wrapper">
      <div class="swiper-slide"><video controls class="w-full rounded-xl border border-zinc-800"><source src="assets/video1.mp4" type="video/mp4"></video></div>
      <div class="swiper-slide"><video controls class="w-full rounded-xl border border-zinc-800"><source src="assets/video2.mp4" type="video/mp4"></video></div>
  </div><div class="swiper-button-next"></div><div class="swiper-button-prev"></div></div>
</section>

<section id="planos" class="py-20 bg-zinc-900/30 text-white fade-in">
    <div class="max-w-6xl mx-auto px-6">
        <h2 class="text-4xl font-bold text-center mb-12">Planos</h2>
        <div class="grid md:grid-cols-3 gap-8">
            <div class="bg-black p-8 rounded-2xl border border-zinc-800">
                <h3 class="text-blue-400 font-bold mb-2">B√°sico</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-basico">R$ --</span></p>
                <p id="desc-basico" class="text-zinc-500 text-sm mb-4">...</p>
                <a href="cadastro.html" class="block w-full py-3 bg-zinc-800 text-center rounded-lg font-bold hover:bg-zinc-700">Escolher</a>
            </div>
            <div class="bg-black p-8 rounded-2xl border-2 border-purple-600 relative transform md:-translate-y-4">
                <span class="absolute top-0 right-0 bg-purple-600 text-xs px-2 py-1 rounded-bl">POPULAR</span>
                <h3 class="text-purple-400 font-bold mb-2">Intermedi√°rio</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-intermediario">R$ --</span></p>
                <p id="desc-intermediario" class="text-zinc-500 text-sm mb-4">...</p>
                <a href="cadastro.html" class="block w-full py-3 bg-purple-600 text-center rounded-lg font-bold hover:bg-purple-700">Escolher</a>
            </div>
            <div class="bg-black p-8 rounded-2xl border border-zinc-800">
                <h3 class="text-yellow-400 font-bold mb-2">Avan√ßado</h3>
                <p class="text-3xl font-bold mb-4"><span id="preco-avancado">R$ --</span></p>
                <p id="desc-avancado" class="text-zinc-500 text-sm mb-4">...</p>
                <a href="cadastro.html" class="block w-full py-3 bg-zinc-800 text-center rounded-lg font-bold hover:bg-zinc-700">Escolher</a>
            </div>
        </div>
    </div>
</section>

<section id="depoimentos" class="max-w-4xl mx-auto py-20 px-4 fade-in">
  <h2 class="text-3xl font-semibold mb-6 text-center">üí¨ O que dizem</h2>
  
  <div class="swiper myCommentsSwiper mb-12">
    <div class="swiper-wrapper">
       <div class="swiper-slide"><div class="card p-8 text-center"><p class="text-zinc-500">Carregando...</p></div></div>
    </div>
    <div class="swiper-button-next text-blue-500"></div><div class="swiper-button-prev text-blue-500"></div>
  </div>

  <div class="card p-8 border border-zinc-800 bg-zinc-900/50 max-w-lg mx-auto">
      <h3 class="text-xl font-bold mb-4 text-center">Deixe sua avalia√ß√£o</h3>
      <input type="text" id="coment-nome" placeholder="Seu Nome" class="w-full bg-black border border-zinc-700 rounded p-3 mb-3 text-white">
      <textarea id="coment-texto" rows="3" placeholder="Sua experi√™ncia..." class="w-full bg-black border border-zinc-700 rounded p-3 mb-3 text-white"></textarea>
      
      <div class="flex justify-between items-center">
          <div class="star-rating text-2xl" id="star-rating">
              <i class="fas fa-star" data-value="1"></i>
              <i class="fas fa-star" data-value="2"></i>
              <i class="fas fa-star" data-value="3"></i>
              <i class="fas fa-star" data-value="4"></i>
              <i class="fas fa-star" data-value="5"></i>
          </div>
          <button onclick="enviarAvaliacao()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold">Enviar</button>
      </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    setTimeout(() => { document.querySelectorAll('.fade-in').forEach(el => el.style.opacity = '1'); }, 2000);
    const observer = new IntersectionObserver(e=>{e.forEach(i=>{if(i.isIntersecting)i.target.classList.add('visible')})},{threshold:.15});
    document.querySelectorAll('.fade-in').forEach(el=>observer.observe(el));

    // SUPABASE
    const sbUrl = 'https://exwdgcfzqapparhzouni.supabase.co';
    const sbKey = 'sb_publishable_HjQcT-uXXklApasRoad4uw_fA7zIPdG';
    const supabase = supabase.createClient(sbUrl, sbKey);

    let notaSelecionada = 0;

    // L√≥gica das Estrelas
    document.querySelectorAll('#star-rating i').forEach(star => {
        star.addEventListener('click', function() {
            notaSelecionada = this.getAttribute('data-value');
            document.querySelectorAll('#star-rating i').forEach(s => {
                s.classList.toggle('active', s.getAttribute('data-value') <= notaSelecionada);
            });
        });
    });

    async function enviarAvaliacao() {
        const nome = document.getElementById('coment-nome').value;
        const texto = document.getElementById('coment-texto').value;
        
        if(!nome || !texto || notaSelecionada == 0) return alert("Preencha nome, coment√°rio e nota!");

        const { error } = await supabase.from('public_comments').insert([{ nome, comentario: texto, nota: notaSelecionada }]);
        
        if(error) alert("Erro: " + error.message);
        else {
            alert("Obrigado! Sua avalia√ß√£o foi enviada.");
            document.getElementById('coment-texto').value = '';
            carregarDadosSite();
        }
    }

    async function carregarDadosSite() {
        try {
            const { data: planos } = await supabase.from('plans').select('*');
            if(planos) planos.forEach(p => {
                const elP = document.getElementById(`preco-${p.tipo}`);
                const elD = document.getElementById(`desc-${p.tipo}`);
                if(elP) elP.innerText = `R$ ${p.preco}`;
                if(elD) elD.innerText = p.descricao;
            });

            const { data: coments } = await supabase.from('public_comments').select('*').order('created_at', {ascending: false}).limit(5);
            const wrapper = document.querySelector('.myCommentsSwiper .swiper-wrapper');
            if(coments && coments.length > 0) {
                wrapper.innerHTML = coments.map(c => `
                    <div class="swiper-slide">
                        <div class="card p-8 text-center border border-zinc-800">
                            <h3 class="font-bold text-xl text-white">${c.nome}</h3>
                            <div class="text-yellow-500 text-sm mb-2">${'‚òÖ'.repeat(c.nota)}</div>
                            <p class="text-zinc-400 italic">"${c.comentario}"</p>
                        </div>
                    </div>
                `).join('');
                if(window.swiperCommentsInstance) window.swiperCommentsInstance.update();
            }
        } catch (e) { console.log(e); }
    }

    const swiperVideos = new Swiper(".myVideosSwiper", { navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" }, loop: true, spaceBetween: 30 });
    window.swiperCommentsInstance = new Swiper(".myCommentsSwiper", { navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" }, loop: true, autoplay: { delay: 5000 } });

    window.onload = carregarDadosSite;
</script>
</body>
</html>
